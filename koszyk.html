<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Koszyk – Sklep z Główkami</title>
  <link rel="stylesheet" href="koszyk.css" />
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html">Strona główna</a></li>
      <li><a href="produkty.html">Produkty</a></li>
      <li><a href="o-nas.html">O nas</a></li>
      <li><a href="dostawa.html">Dostawa i płatność</a></li>
      <li><a href="kontakt.html">Kontakt</a></li>
      <li><a href="koszyk.html">Koszyk</a></li>
    </ul>
  </nav>
  <div class="cart-container">
    <h1 class="cart-title">Twój Koszyk</h1>
    <div id="koszyk"></div>
    <div class="suma" id="suma"></div>
    <button class="clear-cart-button" onclick="wyczyscKoszyk()">Wyczyść koszyk</button>
    <div class="cart-footer">&copy; 2025 Sklep z Włóczkami</div>
  </div>
  <script>
    function pokazKoszyk() {
      const koszykDiv = document.getElementById("koszyk");
      const sumaDiv = document.getElementById("suma");
      const koszyk = JSON.parse(localStorage.getItem("koszyk")) || [];

      koszykDiv.innerHTML = "";
      let suma = 0;

      if (koszyk.length === 0) {
        koszykDiv.innerHTML = "<p class='empty-message'>Koszyk jest pusty.</p>";
        sumaDiv.textContent = "";
        return;
      }

      koszyk.forEach((p, i) => {
        const el = document.createElement("div");
        el.className = "koszyk-produkt";
        el.innerHTML = `
          <span>${p.nazwa} — ${p.cena.toFixed(2)} zł</span>
          <button onclick="usun(${i})">Usuń</button>
        `;
        koszykDiv.appendChild(el);
        suma += p.cena;
      });

      sumaDiv.textContent = `Suma: ${suma.toFixed(2)} zł`;
    }

    function usun(index) {
      let koszyk = JSON.parse(localStorage.getItem("koszyk")) || [];
      koszyk.splice(index, 1);
      localStorage.setItem("koszyk", JSON.stringify(koszyk));
      pokazKoszyk();
    }

    function wyczyscKoszyk() {
      localStorage.removeItem("koszyk");
      pokazKoszyk();
    }

    pokazKoszyk();
  </script>
  <footer>
 
  </footer>
</body>
</html>
